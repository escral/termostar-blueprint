<template>
    <div style="position: relative; display: flex; height: 400px; padding: 60px 0;">
        <div style="position: relative; display: flex; height: 100%;">
            <div style="height: 100%; position: absolute; left: 120px; display: flex; flex-direction: column; padding: 23px 0;box-sizing: border-box">
                <div style="display: flex; align-items: center; justify-content: center; flex: 1;">
                    <input :value="element.distance.input.top" @input="change('distance.input.top', $event.target.value)" type="number" style="width: 40px" /><span style="font-size: 80%; margin-left: 5px">{{ __('мм') }}</span>
                </div>
                <div style="display: flex; align-items: center; justify-content: center; flex-basis: 62%;">
                    <input :value="element.distance.input.center" @input="change('distance.input.center', $event.target.value)" type="number" style="width: 40px" /><span style="font-size: 80%; margin-left: 5px">{{ __('мм') }}</span>
                </div>
                <div style="display: flex; align-items: center; justify-content: center; flex: 1;">
                    <input :value="element.distance.input.bottom" @input="change('distance.input.bottom', $event.target.value)" type="number" style="width: 40px" /><span style="font-size: 80%; margin-left: 5px">{{ __('мм') }}</span>
                </div>
            </div>
            <div style="position: absolute; top: 50%; right: 100%; margin-right: -80px; transform: translateY(-50%);">
                {{ totalHeight }}<span style="font-size: 80%; margin-left: 5px">{{ __('мм') }}</span>
            </div>
        </div>

        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 410.62 399.641" style="overflow: visible; margin-left: 200px">
            <defs>
                <style>
                    svg {
                        overflow: visible !important;
                    }
                    [data-hover] {
                        pointer-events:all;
                    }
                    .cls-1{
                        fill:none;
                        stroke:#1d71a2;
                        stroke-miterlimit:10;
                        stroke-width:1px;
                    }
                    .helper-line {fill:none; stroke: #CCC; stroke-width: 1; pointer-events: none;}
                    .hover path, .hover line, .hover polyline {
                        stroke: yellowgreen !important;
                    }
                    .hover.svg-exit--wide *, .hover .svg-exit--wide * {
                        stroke: red !important;
                    }
                    .hover.svg-exit--normal *, .hover .svg-exit--normal * {
                        stroke: red !important;
                    }

                    .hover.svg-exit--wide-long *, .hover .svg-exit--wide-long * {
                        stroke: blue !important;
                    }
                    .hover.svg-exit--normal-long *, .hover .svg-exit--normal-long * {
                        stroke: blue !important;
                    }

                    .helper-line.hover {
                        stroke: black;
                    }
                    foreignObject {
                        overflow: visible;
                    }
                    .svg-intersection {
                        transform: translate(-5px, -5px);
                    }
                    .svg-circuit {
                        text-align: center;
                    }
                    .svg-circuit:hover {
                        outline: 0.5px solid #2FA3E5;
                    }
                </style>
            </defs>

            <g transform="translate(0 24)">
                <!-- Offset: -100 -->
                <!-- Horizontal Top -->
                <line class="helper-line" x1="-100" y1="0" x2="24" y2="0"></line>
                <line class="helper-line" x1="-100" y1="67" x2="0" y2="67"></line>

                <!-- Horizontal Bottom -->
                <line class="helper-line" x1="-100" y1="285" x2="0" y2="285"></line>
                <line class="helper-line" x1="-100" y1="352" x2="24" y2="352"></line>

                <!-- Vertical -->
                <line class="helper-line" x1="-100" y1="0" x2="-100" y2="352"></line>

                <!-- Intersections -->
                <line class="helper-line svg-intersection" x1="-100" y1="0" x2="-90" y2="10"></line>
                <line class="helper-line svg-intersection" x1="-100" y1="67" x2="-90" y2="77"></line>
                <line class="helper-line svg-intersection" x1="-100" y1="285" x2="-90" y2="295"></line>
                <line class="helper-line svg-intersection" x1="-100" y1="352" x2="-90" y2="362"></line>
            </g>

            <g id="Слой_2" data-name="Слой 2">
                <g id="Слой_1-2" data-name="Слой 1">
                    <defs>
                        <pattern id="lines" height="16" width="16" viewBox="0 0 16 16" patternUnits="userSpaceOnUse">
                            <path class="cls-1" d="M6 16L22 0"/>
                            <path class="cls-1" d="M-14 16L2 0"/>
                            <path class="cls-1" d="M10 16L26 0"/>
                            <path class="cls-1" d="M-2 16L14 0"/>
                            <path class="cls-1" d="M2 16L18 0"/>
                            <path class="cls-1" d="M-6 16L10 0"/>
                            <path class="cls-1" d="M-10 16L6 0"/>
                            <path class="cls-1" d="M14 16L30 0"/>
                        </pattern>
                        <pattern id="lines2" height="16" width="16" viewBox="0 0 16 16" patternUnits="objectBoundingBox">
                            <path class="cls-1" d="M6 16L22 0"/>
                            <path class="cls-1" d="M-14 16L2 0"/>
                            <path class="cls-1" d="M10 16L26 0"/>
                            <path class="cls-1" d="M-2 16L14 0"/>
                            <path class="cls-1" d="M2 16L18 0"/>
                            <path class="cls-1" d="M-6 16L10 0"/>
                            <path class="cls-1" d="M-10 16L6 0"/>
                            <path class="cls-1" d="M14 16L30 0"/>
                        </pattern>
                    </defs>

                    <g>
                    <line class="cls-1" x1="24.308" y1="26.013" x2="26.8" y2="23.521"/>
                    <line class="cls-1" x1="24.308" y1="29.291" x2="30.078" y2="23.521"/>
                    <line class="cls-1" x1="24.308" y1="32.7" x2="33.356" y2="23.521"/>
                    <line class="cls-1" x1="24.308" y1="35.978" x2="36.765" y2="23.521"/>
                    <line class="cls-1" x1="24.308" y1="39.257" x2="40.044" y2="23.521"/>
                    <line class="cls-1" x1="24.308" y1="42.535" x2="43.322" y2="23.521"/>
                    <line class="cls-1" x1="24.308" y1="45.944" x2="39.125" y2="31.126"/>
                    <line class="cls-1" x1="39.257" y1="30.995" x2="46.731" y2="23.521"/>
                    <line class="cls-1" x1="24.308" y1="49.222" x2="39.125" y2="34.405"/>
                    <line class="cls-1" x1="42.535" y1="30.995" x2="50.009" y2="23.521"/>
                    <line class="cls-1" x1="24.308" y1="52.501" x2="39.125" y2="37.814"/>
                    <line class="cls-1" x1="45.944" y1="30.995" x2="53.287" y2="23.521"/>
                    <line class="cls-1" x1="24.308" y1="55.91" x2="39.125" y2="41.092"/>
                    <line class="cls-1" x1="49.222" y1="30.995" x2="56.566" y2="23.521"/>
                    <line class="cls-1" x1="24.308" y1="59.188" x2="39.125" y2="44.37"/>
                    <line class="cls-1" x1="52.501" y1="30.995" x2="59.975" y2="23.521"/>
                    <line class="cls-1" x1="24.308" y1="62.466" x2="39.125" y2="47.78"/>
                    <line class="cls-1" x1="55.91" y1="30.995" x2="63.253" y2="23.521"/>
                    <line class="cls-1" x1="24.308" y1="65.744" x2="39.125" y2="51.058"/>
                    <line class="cls-1" x1="59.188" y1="30.995" x2="66.531" y2="23.521"/>
                    <line class="cls-1" x1="24.308" y1="69.153" x2="39.125" y2="54.336"/>
                    <line class="cls-1" x1="62.466" y1="30.995" x2="69.94" y2="23.521"/>
                    <line class="cls-1" x1="24.308" y1="72.431" x2="39.125" y2="57.614"/>
                    <line class="cls-1" x1="65.744" y1="30.995" x2="73.218" y2="23.521"/>
                    <line class="cls-1" x1="27.062" y1="73.087" x2="39.125" y2="61.024"/>
                    <line class="cls-1" x1="69.153" y1="30.995" x2="74.923" y2="25.226"/>
                    <line class="cls-1" x1="30.34" y1="73.087" x2="39.125" y2="64.302"/>
                    <line class="cls-1" x1="72.431" y1="30.995" x2="74.923" y2="28.505"/>
                    <line class="cls-1" x1="33.619" y1="73.087" x2="39.125" y2="67.58"/>
                    <line class="cls-1" x1="37.027" y1="73.087" x2="39.125" y2="70.989"/>
                    <line class="cls-1" x1="91.97" y1="24.701" x2="93.149" y2="23.521"/>
                    <line class="cls-1" x1="91.97" y1="28.111" x2="96.427" y2="23.521"/>
                    <line class="cls-1" x1="92.363" y1="30.995" x2="99.706" y2="23.521"/>
                    <line class="cls-1" x1="95.641" y1="30.995" x2="102.984" y2="23.521"/>
                    <line class="cls-1" x1="98.919" y1="30.995" x2="106.393" y2="23.521"/>
                    <line class="cls-1" x1="24.308" y1="108.884" x2="24.702" y2="108.491"/>
                    <line class="cls-1" x1="102.329" y1="30.995" x2="109.671" y2="23.521"/>
                    <line class="cls-1" x1="24.308" y1="112.163" x2="28.111" y2="108.491"/>
                    <line class="cls-1" x1="105.607" y1="30.995" x2="112.95" y2="23.521"/>
                    <line class="cls-1" x1="24.308" y1="115.572" x2="31.389" y2="108.491"/>
                    <line class="cls-1" x1="108.885" y1="30.995" x2="116.359" y2="23.521"/>
                    <line class="cls-1" x1="24.308" y1="118.85" x2="34.668" y2="108.491"/>
                    <line class="cls-1" x1="112.294" y1="30.995" x2="119.637" y2="23.521"/>
                    <line class="cls-1" x1="24.308" y1="122.128" x2="37.946" y2="108.491"/>
                    <line class="cls-1" x1="115.572" y1="30.995" x2="122.915" y2="23.521"/>
                    <line class="cls-1" x1="24.308" y1="125.538" x2="39.125" y2="110.72"/>
                    <line class="cls-1" x1="118.851" y1="30.995" x2="126.193" y2="23.521"/>
                    <line class="cls-1" x1="24.308" y1="128.816" x2="39.125" y2="113.998"/>
                    <line class="cls-1" x1="122.129" y1="30.995" x2="129.603" y2="23.521"/>
                    <line class="cls-1" x1="24.308" y1="132.094" x2="39.125" y2="117.407"/>
                    <line class="cls-1" x1="125.538" y1="30.995" x2="132.881" y2="23.521"/>
                    <line class="cls-1" x1="24.308" y1="135.372" x2="39.125" y2="120.686"/>
                    <line class="cls-1" x1="127.767" y1="32.044" x2="136.159" y2="23.521"/>
                    <line class="cls-1" x1="24.308" y1="138.782" x2="39.125" y2="123.964"/>
                    <line class="cls-1" x1="127.767" y1="35.322" x2="139.569" y2="23.521"/>
                    <line class="cls-1" x1="24.308" y1="142.06" x2="39.125" y2="127.242"/>
                    <line class="cls-1" x1="127.767" y1="38.732" x2="142.453" y2="23.915"/>
                    <line class="cls-1" x1="24.308" y1="145.338" x2="39.125" y2="130.651"/>
                    <line class="cls-1" x1="127.767" y1="42.01" x2="142.453" y2="27.193"/>
                    <line class="cls-1" x1="24.308" y1="148.747" x2="39.125" y2="133.929"/>
                    <line class="cls-1" x1="127.767" y1="45.288" x2="142.453" y2="30.602"/>
                    <line class="cls-1" x1="24.308" y1="152.025" x2="39.125" y2="137.208"/>
                    <line class="cls-1" x1="127.767" y1="48.566" x2="142.453" y2="33.881"/>
                    <line class="cls-1" x1="24.308" y1="155.304" x2="39.125" y2="140.617"/>
                    <line class="cls-1" x1="127.767" y1="51.976" x2="142.453" y2="37.159"/>
                    <line class="cls-1" x1="24.308" y1="158.582" x2="39.125" y2="143.895"/>
                    <line class="cls-1" x1="127.767" y1="55.254" x2="142.453" y2="40.437"/>
                    <line class="cls-1" x1="24.308" y1="161.991" x2="39.125" y2="147.173"/>
                    <line class="cls-1" x1="127.767" y1="58.532" x2="142.453" y2="43.846"/>
                    <line class="cls-1" x1="24.308" y1="165.269" x2="39.125" y2="150.452"/>
                    <line class="cls-1" x1="127.767" y1="61.941" x2="142.453" y2="47.124"/>
                    <line class="cls-1" x1="24.308" y1="168.548" x2="39.125" y2="153.861"/>
                    <line class="cls-1" x1="127.767" y1="65.219" x2="142.453" y2="50.403"/>
                    <line class="cls-1" x1="24.308" y1="171.956" x2="39.125" y2="157.139"/>
                    <line class="cls-1" x1="127.767" y1="68.498" x2="142.453" y2="53.812"/>
                    <line class="cls-1" x1="24.308" y1="175.234" x2="39.125" y2="160.417"/>
                    <line class="cls-1" x1="129.734" y1="69.809" x2="142.453" y2="57.09"/>
                    <line class="cls-1" x1="24.308" y1="178.512" x2="39.125" y2="163.827"/>
                    <line class="cls-1" x1="133.143" y1="69.678" x2="142.453" y2="60.368"/>
                    <line class="cls-1" x1="24.308" y1="181.79" x2="39.125" y2="167.105"/>
                    <line class="cls-1" x1="136.421" y1="69.678" x2="142.453" y2="63.646"/>
                    <line class="cls-1" x1="24.308" y1="185.201" x2="39.125" y2="170.383"/>
                    <line class="cls-1" x1="139.699" y1="69.809" x2="142.453" y2="67.055"/>
                    <line class="cls-1" x1="24.308" y1="188.479" x2="39.125" y2="173.661"/>
                    <line class="cls-1" x1="24.308" y1="191.757" x2="39.125" y2="177.07"/>
                    <line class="cls-1" x1="24.308" y1="195.165" x2="39.125" y2="180.348"/>
                    <line class="cls-1" x1="24.308" y1="198.444" x2="39.125" y2="183.626"/>
                    <line class="cls-1" x1="24.308" y1="201.722" x2="39.125" y2="187.036"/>
                    <line class="cls-1" x1="24.308" y1="205" x2="39.125" y2="190.314"/>
                    <line class="cls-1" x1="24.308" y1="208.409" x2="39.125" y2="193.593"/>
                    <line class="cls-1" x1="24.308" y1="211.688" x2="39.125" y2="196.871"/>
                    <line class="cls-1" x1="24.308" y1="214.966" x2="39.125" y2="200.279"/>
                    <line class="cls-1" x1="127.767" y1="111.639" x2="127.898" y2="111.507"/>
                    <line class="cls-1" x1="24.308" y1="218.375" x2="39.125" y2="203.557"/>
                    <line class="cls-1" x1="127.767" y1="114.917" x2="131.57" y2="110.982"/>
                    <line class="cls-1" x1="24.308" y1="221.653" x2="39.125" y2="206.835"/>
                    <line class="cls-1" x1="127.767" y1="118.195" x2="134.979" y2="110.982"/>
                    <line class="cls-1" x1="24.308" y1="224.931" x2="39.125" y2="210.114"/>
                    <line class="cls-1" x1="127.767" y1="121.603" x2="138.126" y2="111.114"/>
                    <line class="cls-1" x1="24.308" y1="228.21" x2="39.125" y2="213.524"/>
                    <line class="cls-1" x1="127.767" y1="124.881" x2="141.011" y2="111.639"/>
                    <line class="cls-1" x1="24.308" y1="231.619" x2="39.125" y2="216.802"/>
                    <line class="cls-1" x1="127.767" y1="128.16" x2="142.453" y2="113.474"/>
                    <line class="cls-1" x1="24.308" y1="234.897" x2="39.125" y2="220.08"/>
                    <line class="cls-1" x1="127.767" y1="131.569" x2="142.453" y2="116.752"/>
                    <line class="cls-1" x1="24.308" y1="238.175" x2="39.125" y2="223.489"/>
                    <line class="cls-1" x1="127.767" y1="134.847" x2="142.453" y2="120.03"/>
                    <line class="cls-1" x1="24.308" y1="241.585" x2="39.125" y2="226.767"/>
                    <line class="cls-1" x1="127.767" y1="138.125" x2="142.453" y2="123.44"/>
                    <line class="cls-1" x1="24.308" y1="244.863" x2="39.125" y2="230.045"/>
                    <line class="cls-1" x1="127.767" y1="141.403" x2="142.453" y2="126.718"/>
                    <line class="cls-1" x1="24.308" y1="248.141" x2="39.125" y2="233.323"/>
                    <line class="cls-1" x1="127.767" y1="144.813" x2="142.453" y2="129.996"/>
                    <line class="cls-1" x1="24.308" y1="251.419" x2="39.125" y2="236.733"/>
                    <line class="cls-1" x1="147.698" y1="128.16" x2="149.796" y2="125.931"/>
                    <line class="cls-1" x1="127.767" y1="148.091" x2="142.453" y2="133.274"/>
                    <line class="cls-1" x1="24.308" y1="254.828" x2="39.125" y2="240.011"/>
                    <line class="cls-1" x1="147.698" y1="131.438" x2="153.206" y2="125.931"/>
                    <line class="cls-1" x1="127.767" y1="151.369" x2="142.453" y2="136.684"/>
                    <line class="cls-1" x1="24.308" y1="258.106" x2="39.125" y2="243.289"/>
                    <line class="cls-1" x1="147.698" y1="134.847" x2="156.484" y2="125.931"/>
                    <line class="cls-1" x1="127.767" y1="154.779" x2="142.453" y2="139.962"/>
                    <line class="cls-1" x1="24.308" y1="261.384" x2="39.125" y2="246.698"/>
                    <line class="cls-1" x1="147.698" y1="138.125" x2="159.762" y2="125.931"/>
                    <line class="cls-1" x1="127.767" y1="158.057" x2="142.453" y2="143.24"/>
                    <line class="cls-1" x1="24.308" y1="264.794" x2="39.125" y2="249.976"/>
                    <line class="cls-1" x1="147.698" y1="141.403" x2="163.04" y2="125.931"/>
                    <line class="cls-1" x1="127.767" y1="161.335" x2="142.453" y2="146.649"/>
                    <line class="cls-1" x1="24.308" y1="268.072" x2="39.125" y2="253.255"/>
                    <line class="cls-1" x1="147.698" y1="144.682" x2="164.745" y2="127.636"/>
                    <line class="cls-1" x1="127.767" y1="164.613" x2="142.453" y2="149.928"/>
                    <line class="cls-1" x1="24.308" y1="271.351" x2="39.125" y2="256.533"/>
                    <line class="cls-1" x1="147.698" y1="148.091" x2="165.925" y2="129.734"/>
                    <line class="cls-1" x1="127.767" y1="168.023" x2="142.453" y2="153.206"/>
                    <line class="cls-1" x1="24.308" y1="274.629" x2="39.125" y2="259.942"/>
                    <line class="cls-1" x1="158.319" y1="140.748" x2="167.105" y2="131.963"/>
                    <line class="cls-1" x1="127.767" y1="171.301" x2="142.453" y2="156.484"/>
                    <line class="cls-1" x1="147.698" y1="151.369" x2="155.041" y2="144.026"/>
                    <line class="cls-1" x1="24.308" y1="278.037" x2="39.125" y2="263.22"/>
                    <line class="cls-1" x1="161.597" y1="140.748" x2="168.023" y2="134.323"/>
                    <line class="cls-1" x1="127.767" y1="174.579" x2="142.453" y2="159.892"/>
                    <line class="cls-1" x1="147.698" y1="154.647" x2="155.041" y2="147.305"/>
                    <line class="cls-1" x1="24.308" y1="281.315" x2="39.125" y2="266.499"/>
                    <line class="cls-1" x1="164.876" y1="140.748" x2="168.81" y2="136.815"/>
                    <line class="cls-1" x1="127.767" y1="177.988" x2="142.453" y2="163.17"/>
                    <line class="cls-1" x1="147.698" y1="158.057" x2="155.041" y2="150.583"/>
                    <line class="cls-1" x1="24.308" y1="284.593" x2="39.125" y2="269.908"/>
                    <line class="cls-1" x1="168.154" y1="140.748" x2="169.596" y2="139.437"/>
                    <line class="cls-1" x1="127.767" y1="181.266" x2="142.453" y2="166.448"/>
                    <line class="cls-1" x1="147.698" y1="161.335" x2="155.041" y2="153.992"/>
                    <line class="cls-1" x1="24.308" y1="288.003" x2="39.125" y2="273.186"/>
                    <line class="cls-1" x1="147.698" y1="164.613" x2="155.041" y2="157.27"/>
                    <line class="cls-1" x1="127.767" y1="184.545" x2="142.453" y2="169.858"/>
                    <line class="cls-1" x1="24.439" y1="291.15" x2="39.125" y2="276.464"/>
                    <line class="cls-1" x1="147.698" y1="167.891" x2="155.041" y2="160.548"/>
                    <line class="cls-1" x1="127.767" y1="187.823" x2="142.453" y2="173.136"/>
                    <line class="cls-1" x1="27.717" y1="291.15" x2="39.125" y2="279.742"/>
                    <line class="cls-1" x1="147.698" y1="171.301" x2="155.041" y2="163.827"/>
                    <line class="cls-1" x1="127.767" y1="191.232" x2="142.453" y2="176.414"/>
                    <line class="cls-1" x1="30.996" y1="291.15" x2="39.125" y2="283.151"/>
                    <line class="cls-1" x1="147.698" y1="174.579" x2="155.041" y2="167.236"/>
                    <line class="cls-1" x1="127.767" y1="194.51" x2="142.453" y2="179.692"/>
                    <line class="cls-1" x1="34.405" y1="291.15" x2="39.125" y2="286.429"/>
                    <line class="cls-1" x1="147.698" y1="177.857" x2="155.041" y2="170.514"/>
                    <line class="cls-1" x1="127.767" y1="197.788" x2="142.453" y2="183.102"/>
                    <line class="cls-1" x1="37.683" y1="291.15" x2="39.125" y2="289.707"/>
                    <line class="cls-1" x1="147.698" y1="181.266" x2="155.041" y2="173.792"/>
                    <line class="cls-1" x1="127.767" y1="201.197" x2="142.453" y2="186.38"/>
                    <line class="cls-1" x1="127.767" y1="204.475" x2="142.453" y2="189.658"/>
                    <line class="cls-1" x1="147.698" y1="184.545" x2="155.041" y2="177.202"/>
                    <line class="cls-1" x1="127.767" y1="207.753" x2="142.453" y2="193.068"/>
                    <line class="cls-1" x1="208.279" y1="127.242" x2="209.459" y2="125.931"/>
                    <line class="cls-1" x1="147.698" y1="187.823" x2="155.041" y2="180.48"/>
                    <line class="cls-1" x1="127.767" y1="211.031" x2="142.453" y2="196.346"/>
                    <line class="cls-1" x1="208.934" y1="129.865" x2="212.868" y2="125.931"/>
                    <line class="cls-1" x1="147.698" y1="191.101" x2="155.041" y2="183.758"/>
                    <line class="cls-1" x1="127.767" y1="214.442" x2="142.453" y2="199.624"/>
                    <line class="cls-1" x1="209.459" y1="132.618" x2="216.146" y2="125.931"/>
                    <line class="cls-1" x1="147.698" y1="194.51" x2="155.041" y2="187.036"/>
                    <line class="cls-1" x1="127.767" y1="217.72" x2="142.453" y2="202.902"/>
                    <line class="cls-1" x1="209.983" y1="135.503" x2="219.424" y2="125.931"/>
                    <line class="cls-1" x1="147.698" y1="197.788" x2="155.041" y2="190.445"/>
                    <line class="cls-1" x1="127.767" y1="220.998" x2="142.453" y2="206.311"/>
                    <line class="cls-1" x1="210.245" y1="138.519" x2="222.833" y2="125.931"/>
                    <line class="cls-1" x1="147.698" y1="201.067" x2="155.041" y2="193.723"/>
                    <line class="cls-1" x1="127.767" y1="224.406" x2="142.453" y2="209.59"/>
                    <line class="cls-1" x1="211.294" y1="140.748" x2="226.112" y2="125.931"/>
                    <line class="cls-1" x1="147.698" y1="204.475" x2="155.041" y2="197.001"/>
                    <line class="cls-1" x1="127.767" y1="227.685" x2="142.453" y2="212.868"/>
                    <line class="cls-1" x1="214.572" y1="140.748" x2="229.39" y2="125.931"/>
                    <line class="cls-1" x1="147.698" y1="207.753" x2="155.041" y2="200.411"/>
                    <line class="cls-1" x1="127.767" y1="230.963" x2="142.453" y2="216.277"/>
                    <line class="cls-1" x1="217.982" y1="140.748" x2="232.668" y2="125.931"/>
                    <line class="cls-1" x1="147.698" y1="211.031" x2="155.041" y2="203.69"/>
                    <line class="cls-1" x1="127.767" y1="234.241" x2="142.453" y2="219.555"/>
                    <line class="cls-1" x1="221.26" y1="140.748" x2="236.077" y2="125.931"/>
                    <line class="cls-1" x1="147.698" y1="214.309" x2="155.041" y2="206.968"/>
                    <line class="cls-1" x1="127.767" y1="237.651" x2="142.453" y2="222.833"/>
                    <line class="cls-1" x1="224.538" y1="140.748" x2="239.355" y2="125.931"/>
                    <line class="cls-1" x1="147.698" y1="217.72" x2="155.041" y2="210.246"/>
                    <line class="cls-1" x1="127.767" y1="240.93" x2="142.453" y2="226.112"/>
                    <line class="cls-1" x1="227.948" y1="140.748" x2="242.634" y2="125.931"/>
                    <line class="cls-1" x1="147.698" y1="220.998" x2="155.041" y2="213.654"/>
                    <line class="cls-1" x1="127.767" y1="244.208" x2="142.453" y2="229.52"/>
                    <line class="cls-1" x1="231.226" y1="140.748" x2="246.043" y2="125.931"/>
                    <line class="cls-1" x1="147.698" y1="224.276" x2="155.041" y2="216.932"/>
                    <line class="cls-1" x1="127.767" y1="247.616" x2="142.453" y2="232.798"/>
                    <line class="cls-1" x1="234.504" y1="140.748" x2="249.321" y2="125.931"/>
                    <line class="cls-1" x1="147.698" y1="227.685" x2="155.041" y2="220.21"/>
                    <line class="cls-1" x1="127.767" y1="250.894" x2="142.453" y2="236.076"/>
                    <line class="cls-1" x1="237.782" y1="140.748" x2="252.599" y2="125.931"/>
                    <line class="cls-1" x1="147.698" y1="230.963" x2="155.041" y2="223.62"/>
                    <line class="cls-1" x1="127.767" y1="254.172" x2="142.453" y2="239.487"/>
                    <line class="cls-1" x1="241.191" y1="140.748" x2="255.877" y2="125.931"/>
                    <line class="cls-1" x1="147.698" y1="234.241" x2="155.041" y2="226.898"/>
                    <line class="cls-1" x1="127.767" y1="257.45" x2="142.453" y2="242.765"/>
                    <line class="cls-1" x1="244.47" y1="140.748" x2="259.286" y2="125.931"/>
                    <line class="cls-1" x1="147.698" y1="237.519" x2="155.041" y2="230.176"/>
                    <line class="cls-1" x1="127.767" y1="260.86" x2="142.453" y2="246.043"/>
                    <line class="cls-1" x1="247.748" y1="140.748" x2="262.565" y2="125.931"/>
                    <line class="cls-1" x1="147.698" y1="240.93" x2="155.041" y2="233.454"/>
                    <line class="cls-1" x1="127.767" y1="264.138" x2="142.453" y2="249.321"/>
                    <line class="cls-1" x1="251.157" y1="140.748" x2="265.843" y2="125.931"/>
                    <line class="cls-1" x1="147.698" y1="244.208" x2="155.041" y2="236.864"/>
                    <line class="cls-1" x1="127.767" y1="267.416" x2="142.453" y2="252.73"/>
                    <line class="cls-1" x1="254.435" y1="140.748" x2="269.252" y2="125.931"/>
                    <line class="cls-1" x1="147.698" y1="247.486" x2="155.041" y2="240.142"/>
                    <line class="cls-1" x1="127.767" y1="270.826" x2="142.453" y2="256.008"/>
                    <line class="cls-1" x1="257.713" y1="140.748" x2="272.53" y2="125.931"/>
                    <line class="cls-1" x1="147.698" y1="250.894" x2="155.041" y2="243.42"/>
                    <line class="cls-1" x1="127.767" y1="274.104" x2="142.453" y2="259.286"/>
                    <line class="cls-1" x1="261.122" y1="140.748" x2="275.808" y2="125.931"/>
                    <line class="cls-1" x1="147.698" y1="254.172" x2="155.041" y2="246.698"/>
                    <line class="cls-1" x1="127.767" y1="277.382" x2="142.453" y2="262.696"/>
                    <line class="cls-1" x1="264.4" y1="140.748" x2="279.087" y2="125.931"/>
                    <line class="cls-1" x1="147.698" y1="257.45" x2="155.041" y2="250.108"/>
                    <line class="cls-1" x1="127.767" y1="280.66" x2="142.453" y2="265.975"/>
                    <line class="cls-1" x1="267.679" y1="140.748" x2="282.496" y2="125.931"/>
                    <line class="cls-1" x1="147.698" y1="260.729" x2="155.041" y2="253.386"/>
                    <line class="cls-1" x1="127.767" y1="284.07" x2="142.453" y2="269.253"/>
                    <line class="cls-1" x1="270.957" y1="140.748" x2="285.774" y2="125.931"/>
                    <line class="cls-1" x1="147.698" y1="264.138" x2="155.041" y2="256.664"/>
                    <line class="cls-1" x1="127.767" y1="287.348" x2="142.453" y2="272.531"/>
                    <line class="cls-1" x1="274.366" y1="140.748" x2="287.086" y2="127.898"/>
                    <line class="cls-1" x1="147.698" y1="267.416" x2="156.221" y2="258.893"/>
                    <line class="cls-1" x1="129.865" y1="288.397" x2="142.453" y2="275.939"/>
                    <line class="cls-1" x1="277.644" y1="140.748" x2="287.086" y2="131.308"/>
                    <line class="cls-1" x1="147.698" y1="270.694" x2="159.499" y2="258.893"/>
                    <line class="cls-1" x1="133.012" y1="288.659" x2="142.453" y2="279.217"/>
                    <line class="cls-1" x1="280.923" y1="140.748" x2="287.086" y2="134.586"/>
                    <line class="cls-1" x1="148.092" y1="273.711" x2="162.778" y2="258.893"/>
                    <line class="cls-1" x1="136.421" y1="288.659" x2="142.453" y2="282.495"/>
                    <line class="cls-1" x1="284.332" y1="140.748" x2="287.086" y2="137.864"/>
                    <line class="cls-1" x1="151.37" y1="273.711" x2="166.056" y2="258.893"/>
                    <line class="cls-1" x1="140.093" y1="288.265" x2="142.453" y2="285.905"/>
                    <line class="cls-1" x1="154.648" y1="273.711" x2="169.465" y2="258.893"/>
                    <line class="cls-1" x1="157.926" y1="273.711" x2="168.941" y2="262.696"/>
                    <line class="cls-1" x1="161.335" y1="273.711" x2="166.843" y2="268.203"/>

                    <rect x="210" y="258.893" width="198" height="14.816" fill="url(#lines)" />
                    <rect x="287" y="125.931" width="125" height="14.816" fill="url(#lines)" />
<!--                    <rect x="0.037" y="133.012" width="186.963" height="14.818" fill="url(#lines)" />-->

                    <polyline class="cls-1" points="407.458 258.893 155.041 258.893 155.041 140.748"/>
                    <line class="cls-1" x1="155.041" y1="140.748" x2="410.603" y2="140.748"/>
                    <polyline class="cls-1" points="407.445 273.711 147.698 273.711 147.698 125.931"/>
                    <line class="cls-1" x1="147.698" y1="125.931" x2="410.62" y2="125.931"/>
                    <line class="cls-1" x1="127.767" y1="288.134" x2="127.767" y2="344.256"/>
                    <path class="cls-1" d="M127.691,290.059a38.209,38.209,0,0,0,44.274-31.291"/>
                    <path class="cls-1" d="M127.688,288.083a36.255,36.255,0,0,0,42.121-29.256"/>
                    <path class="cls-1" d="M127.67,327.429a74.023,74.023,0,0,0,80.562-68.589"/>
                    <line class="cls-1" x1="24.308" y1="327.734" x2="25.488" y2="326.554"/>
                    <line class="cls-1" x1="24.308" y1="331.013" x2="28.766" y2="326.554"/>
                    <line class="cls-1" x1="24.308" y1="334.421" x2="32.045" y2="326.554"/>
                    <line class="cls-1" x1="24.308" y1="337.699" x2="35.454" y2="326.554"/>
                    <line class="cls-1" x1="24.308" y1="340.977" x2="38.732" y2="326.554"/>
                    <line class="cls-1" x1="24.308" y1="344.256" x2="39.125" y2="329.57"/>
                    <line class="cls-1" x1="24.308" y1="347.666" x2="39.125" y2="332.848"/>
                    <line class="cls-1" x1="24.308" y1="350.944" x2="39.125" y2="336.126"/>
                    <line class="cls-1" x1="24.308" y1="354.222" x2="39.125" y2="339.536"/>
                    <line class="cls-1" x1="24.308" y1="357.631" x2="39.125" y2="342.814"/>
                    <line class="cls-1" x1="24.308" y1="360.909" x2="39.125" y2="346.092"/>
                    <line class="cls-1" x1="24.308" y1="364.187" x2="39.125" y2="349.37"/>
                    <line class="cls-1" x1="24.308" y1="367.465" x2="39.125" y2="352.78"/>
                    <line class="cls-1" x1="24.308" y1="370.876" x2="39.125" y2="356.058"/>
                    <line class="cls-1" x1="24.308" y1="374.154" x2="39.125" y2="359.336"/>
                    <line class="cls-1" x1="25.751" y1="376.119" x2="39.125" y2="362.745"/>
                    <line class="cls-1" x1="29.029" y1="376.119" x2="39.125" y2="366.023"/>
                    <line class="cls-1" x1="32.307" y1="376.119" x2="39.781" y2="368.645"/>
                    <line class="cls-1" x1="35.717" y1="376.119" x2="43.059" y2="368.645"/>
                    <line class="cls-1" x1="38.995" y1="376.119" x2="46.337" y2="368.645"/>
                    <line class="cls-1" x1="42.273" y1="376.119" x2="49.616" y2="368.645"/>
                    <line class="cls-1" x1="45.551" y1="376.119" x2="53.025" y2="368.645"/>
                    <line class="cls-1" x1="48.96" y1="376.119" x2="56.303" y2="368.645"/>
                    <line class="cls-1" x1="52.238" y1="376.119" x2="59.581" y2="368.645"/>
                    <line class="cls-1" x1="55.516" y1="376.119" x2="62.991" y2="368.645"/>
                    <line class="cls-1" x1="58.926" y1="376.119" x2="66.269" y2="368.645"/>
                    <line class="cls-1" x1="62.204" y1="376.119" x2="69.547" y2="368.645"/>
                    <line class="cls-1" x1="65.482" y1="376.119" x2="72.825" y2="368.645"/>
                    <line class="cls-1" x1="68.76" y1="376.119" x2="74.923" y2="369.957"/>
                    <line class="cls-1" x1="72.169" y1="376.119" x2="74.923" y2="373.235"/>
                    <line class="cls-1" x1="127.767" y1="330.488" x2="128.423" y2="329.701"/>
                    <line class="cls-1" x1="91.97" y1="369.563" x2="92.756" y2="368.645"/>
                    <line class="cls-1" x1="127.767" y1="333.766" x2="131.57" y2="329.964"/>
                    <line class="cls-1" x1="91.97" y1="372.841" x2="96.034" y2="368.645"/>
                    <line class="cls-1" x1="127.767" y1="337.044" x2="134.848" y2="329.964"/>
                    <line class="cls-1" x1="91.97" y1="376.119" x2="99.444" y2="368.645"/>
                    <line class="cls-1" x1="127.767" y1="340.453" x2="138.257" y2="329.832"/>
                    <line class="cls-1" x1="95.379" y1="376.119" x2="102.722" y2="368.645"/>
                    <line class="cls-1" x1="127.767" y1="343.732" x2="141.798" y2="329.57"/>
                    <line class="cls-1" x1="98.657" y1="376.119" x2="106" y2="368.645"/>
                    <line class="cls-1" x1="127.767" y1="347.01" x2="142.453" y2="332.193"/>
                    <line class="cls-1" x1="101.935" y1="376.119" x2="109.409" y2="368.645"/>
                    <line class="cls-1" x1="127.767" y1="350.288" x2="142.453" y2="335.601"/>
                    <line class="cls-1" x1="105.344" y1="376.119" x2="112.688" y2="368.645"/>
                    <line class="cls-1" x1="127.767" y1="353.697" x2="142.453" y2="338.879"/>
                    <line class="cls-1" x1="108.622" y1="376.119" x2="115.966" y2="368.645"/>
                    <line class="cls-1" x1="127.767" y1="356.975" x2="142.453" y2="342.158"/>
                    <line class="cls-1" x1="111.901" y1="376.119" x2="119.244" y2="368.645"/>
                    <line class="cls-1" x1="127.767" y1="360.254" x2="142.453" y2="345.568"/>
                    <line class="cls-1" x1="115.179" y1="376.119" x2="122.653" y2="368.645"/>
                    <line class="cls-1" x1="127.767" y1="363.663" x2="142.453" y2="348.846"/>
                    <line class="cls-1" x1="118.588" y1="376.119" x2="125.931" y2="368.645"/>
                    <line class="cls-1" x1="127.767" y1="366.941" x2="142.453" y2="352.124"/>
                    <line class="cls-1" x1="121.866" y1="376.119" x2="142.453" y2="355.402"/>
                    <line class="cls-1" x1="125.144" y1="376.119" x2="142.453" y2="358.811"/>
                    <line class="cls-1" x1="128.554" y1="376.119" x2="142.453" y2="362.089"/>
                    <line class="cls-1" x1="131.832" y1="376.119" x2="142.453" y2="365.367"/>
                    <line class="cls-1" x1="135.11" y1="376.119" x2="142.453" y2="368.778"/>
                    <line class="cls-1" x1="138.388" y1="376.119" x2="142.453" y2="372.056"/>
                    <line class="cls-1" x1="141.798" y1="376.119" x2="142.453" y2="375.334"/>
                    <path class="cls-1" d="M127.633,329.531a76.117,76.117,0,0,0,82.7-70.72"/>
                    <line class="cls-1" x1="127.767" y1="111.507" x2="127.767" y2="55.385"/>
                    <polyline class="cls-1"
                              points="127.767 344.256 127.767 368.645 39.125 368.645 39.125 55.385 39.125 30.995 127.767 30.995 127.767 344.256"/>
                    <line class="cls-2" x1="142.453" y1="376.119" x2="142.453" y2="376.119"/>
                    <polyline class="cls-1"
                              points="142.453 376.119 24.308 376.119 24.308 55.385 24.308 23.521 142.453 23.521 142.453 376.119"/>
                    </g>
                    <g data-hover="base-join">
                        <polyline class="cls-1" points="0.05 326.554 0.05 291.15 39.125 291.15 39.125 326.554 0.05 326.554"/>
                        <polyline class="cls-1" points="3.066 323.669 3.066 294.035 39.125 294.035 39.125 323.669 3.066 323.669"/>
                    </g>
                    <g data-hover="base-join">
                        <polyline class="cls-1" points="0.05 108.425 0.05 73.022 39.125 73.022 39.125 108.425 0.05 108.425"/>
                        <polyline class="cls-1" points="3.066 105.541 3.066 75.906 39.125 75.906 39.125 105.541 3.066 105.541"/>
                    </g>
                    <path class="cls-1" d="M171.965,140.742a38.209,38.209,0,0,0-44.274-31.291"/>
                    <path class="cls-1" d="M169.809,140.683a36.257,36.257,0,0,0-42.121-29.256"/>
                    <path class="cls-1" d="M208.232,140.67A74.021,74.021,0,0,0,127.67,72.081"/>
                    <path class="cls-1" d="M210.337,140.7a76.119,76.119,0,0,0-82.7-70.72"/>
                    <path class="cls-1" d="M88.954,90.723A5.573,5.573,0,1,0,83.381,96.3a5.573,5.573,0,0,0,5.573-5.574"/>
                    <path class="cls-1" d="M91.838,90.723a8.458,8.458,0,1,0-8.457,8.458,8.458,8.458,0,0,0,8.457-8.458"/>

                    <g data-hover="vozduhootvod">
                        <polyline class="cls-1"
                                  points="83.446 30.995 88.954 30.995 88.954 3.066 77.939 3.066 77.939 30.995 83.446 30.995"/>
                        <polyline class="cls-1"
                                  points="83.446 30.995 91.97 30.995 91.97 0.05 74.923 0.05 74.923 30.995 83.446 30.995"/>
                    </g>
                    <g data-hover="slivnoi">
                        <polyline class="cls-1"
                                  points="83.38 368.645 88.888 368.645 88.888 396.576 77.873 396.576 77.873 368.645 83.38 368.645"/>
                        <polyline class="cls-1"
                                  points="83.38 368.645 91.904 368.645 91.904 399.591 74.857 399.591 74.857 368.645 83.38 368.645"/>
                    </g>
                    <path class="cls-1" d="M88.954,308.787a5.573,5.573,0,1,0-5.573,5.572,5.572,5.572,0,0,0,5.573-5.572"/>
                    <path class="cls-1" d="M91.838,308.787a8.458,8.458,0,1,0-8.457,8.458,8.457,8.457,0,0,0,8.457-8.458"/>

                    <line class="cls-1" x1="156" y1="200" x2="270" y2="200" />

                    <g class="svg-circuits">
                        <template v-for="(circuit, $i) in element.circuits">
                            <foreignObject :x="(84 + 93 * ($i + 1) * 2) - 60" y="-60" width="93" height="520" style="pointer-events: none" v-show="$i < maxAvailableCircuit || $i == 0">
                                <div class="flex" style="flex-direction: column; justify-content: space-between; height: 100%; padding: 10px 0 53px; box-sizing: border-box">

                                    <div style="display: flex;margin-top: auto; margin-bottom: 20px;">
                                        <div style="display: flex; align-items: center; justify-content: center; flex: 1;">
                                            <input :data-hover="'circuit' + $i + '-input-before'" :value="circuit.distance.before" @input="change('circuits.' +$i + '.distance.before', $event.target.value)" type="number" style="width: 40px" />
                                        </div>
                                    </div>
                                </div>
                            </foreignObject>

                            <g :transform="'translate(' + (270 + 187 * ($i)) + ' 0)'" class="svg-circuit">
                                <foreignObject x="0" y="-60" width="160" height="520">
                                    <div class="flex" style="flex-direction: column; justify-content: space-between; height: 100%; padding: 10px 0; box-sizing: border-box">
                                        <div>
                                            <div>
                                                <label class="workspace__label">
                                                    {{ __('Контур') }} {{ $i + 1 }}
                                                    <checkbox :value="circuit.top.enabled" @input="change('circuits.' +$i + '.top.enabled', $event)"/>
                                                </label>
                                            </div>
                                            <select v-show="circuit.top.enabled" :data-hover="'circuit-' + $i + '-top'" class="workspace__select" :value="circuit.top.value" @input="change('circuits.' +$i + '.top.value', $event.target.value)">
                                                <option :value="value" v-for="({value, title}) in circuitOptions">{{ title }}</option>
                                            </select>
                                        </div>
                                        <div v-show="$i < maxAvailableCircuit || $i == 0" style="display: flex;margin-top: auto; margin-bottom: 20px;">
                                            <div style="display: flex; align-items: center; justify-content: center; flex: 1;">
                                                <input :data-hover="'circuit' + $i + '-input-between'" :value="circuit.distance.between" @input="change('circuits.' +$i + '.distance.between', $event.target.value)" type="number" style="width: 40px" />
                                            </div>
                                        </div>
                                        <div>
                                            <div>
                                                <label class="workspace__label">
                                                    {{ __('Контур') }} {{ $i + 1 }}
                                                    <checkbox :value="circuit.bottom.enabled" @input="change('circuits.' +$i + '.bottom.enabled', $event)"/>
                                                </label>
                                            </div>
                                            <select :class="{'visibility-hidden': !circuit.bottom.enabled}" :data-hover="'circuit-' + $i + '-bottom'" class="workspace__select" :value="circuit.bottom.value" @input="change('circuits.' +$i + '.top.value', $event.target.value)">
                                                <option :value="value" v-for="({value, title}) in circuitOptions">{{ title }}</option>
                                            </select>
                                        </div>
                                    </div>
                                </foreignObject>

                                <line v-if="$i < maxAvailableCircuit || $i == 0" class="cls-1" x1="0" y1="200" x2="159" y2="200" />

                                <g class="svg-exits" :class="{'svg-exits--reversed': element.revers}" data-hover="circuit-inputs">
                                    <g v-show="circuit.top.enabled" :data-hover="'circuit-' + $i + '-top'" class="svg-exit svg-exit--wide-long" transform="translate(17 109.3)">
                                        <polyline class="cls-1" points="31.045 0.05 0.05 0.05 0.05 90.658 31.045 90.658 31.045 0.05"/>
                                        <polyline class="cls-1" points="28.159 0.05 3.067 0.05 3.067 90.658 28.159 90.658 28.159 0.05"/>
                                        <line class="cls-1" x1="31.045" y1="1.493" x2="0.05" y2="1.493"/>
                                        <line class="cls-1" x1="31.045" y1="2.542" x2="0.05" y2="2.542"/>
                                        <line class="cls-1" x1="31.045" y1="3.591" x2="0.05" y2="3.591"/>
                                        <line class="cls-1" x1="31.045" y1="4.508" x2="0.05" y2="4.508"/>
                                        <line class="cls-1" x1="31.045" y1="5.557" x2="0.05" y2="5.557"/>
                                        <line class="cls-1" x1="31.045" y1="6.606" x2="0.05" y2="6.606"/>
                                        <line class="cls-1" x1="31.045" y1="7.524" x2="0.05" y2="7.524"/>
                                        <line class="cls-1" x1="31.045" y1="8.574" x2="0.05" y2="8.574"/>
                                        <line class="cls-1" x1="31.045" y1="9.622" x2="0.05" y2="9.622"/>
                                        <line class="cls-1" x1="31.045" y1="10.54" x2="0.05" y2="10.54"/>
                                    </g>
                                    <g v-show="circuit.top.enabled" :data-hover="'circuit-' + $i + '-top'" class="svg-exit svg-exit--wide" transform="translate(110 109.3)">
                                    <polyline class="cls-1" points="31.291 0.05 0.05 0.05 0.05 31.651 31.291 31.651 31.291 0.05"/>
                                    <polyline class="cls-1" points="28.407 0.05 3.066 0.05 3.066 31.651 28.407 31.651 28.407 0.05"/>
                                    <line class="cls-1" x1="31.291" y1="1.493" x2="0.05" y2="1.493"/>
                                    <line class="cls-1" x1="31.291" y1="2.542" x2="0.05" y2="2.542"/>
                                    <line class="cls-1" x1="31.291" y1="3.591" x2="0.05" y2="3.591"/>
                                    <line class="cls-1" x1="31.291" y1="4.508" x2="0.05" y2="4.508"/>
                                    <line class="cls-1" x1="31.291" y1="5.557" x2="0.05" y2="5.557"/>
                                    <line class="cls-1" x1="31.291" y1="6.606" x2="0.05" y2="6.606"/>
                                    <line class="cls-1" x1="31.291" y1="7.524" x2="0.05" y2="7.524"/>
                                    <line class="cls-1" x1="31.291" y1="8.574" x2="0.05" y2="8.574"/>
                                    <line class="cls-1" x1="31.291" y1="9.622" x2="0.05" y2="9.622"/>
                                    <line class="cls-1" x1="31.291" y1="10.54" x2="0.05" y2="10.54"/>
                                </g>
                                </g>
                                <g class="svg-exits" :class="{'svg-exits--reversed': element.revers}" data-hover="circuit-inputs" transform="translate(4 200)">
                                    <g v-show="circuit.bottom.enabled" :data-hover="'circuit-' + $i + '-bottom'" class="svg-exit svg-exit--normal" transform="translate(17 58.5)">
                                        <polyline class="cls-1" points="0.05 31.651 24.833 31.651 24.833 0.05 0.05 0.05 0.05 31.651"/>
                                        <polyline class="cls-1" points="2.934 31.651 21.817 31.651 21.817 0.05 2.934 0.05 2.934 31.651"/>
                                        <line class="cls-1" x1="0.05" y1="30.209" x2="24.833" y2="30.209"/>
                                        <line class="cls-1" x1="0.05" y1="29.16" x2="24.833" y2="29.16"/>
                                        <line class="cls-1" x1="0.05" y1="28.111" x2="24.833" y2="28.111"/>
                                        <line class="cls-1" x1="0.05" y1="27.193" x2="24.833" y2="27.193"/>
                                        <line class="cls-1" x1="0.05" y1="26.144" x2="24.833" y2="26.144"/>
                                        <line class="cls-1" x1="0.05" y1="25.095" x2="24.833" y2="25.095"/>
                                        <line class="cls-1" x1="0.05" y1="24.177" x2="24.833" y2="24.177"/>
                                        <line class="cls-1" x1="0.05" y1="23.127" x2="24.833" y2="23.127"/>
                                        <line class="cls-1" x1="0.05" y1="22.079" x2="24.833" y2="22.079"/>
                                        <line class="cls-1" x1="0.05" y1="21.162" x2="24.833" y2="21.162"/>
                                    </g>
                                    <g v-show="circuit.bottom.enabled" :data-hover="'circuit-' + $i + '-bottom'" class="svg-exit svg-exit--normal-long" transform="translate(110 0)">
                                        <polyline class="cls-1" points="0.05 90.658 24.834 90.658 24.834 0.05 0.05 0.05 0.05 90.658"/>
                                        <polyline class="cls-1" points="2.935 90.658 21.817 90.658 21.817 0.05 2.935 0.05 2.935 90.658"/>
                                        <line class="cls-1" x1="0.05" y1="89.215" x2="24.834" y2="89.215"/>
                                        <line class="cls-1" x1="0.05" y1="88.167" x2="24.834" y2="88.167"/>
                                        <line class="cls-1" x1="0.05" y1="87.118" x2="24.834" y2="87.118"/>
                                        <line class="cls-1" x1="0.05" y1="86.2" x2="24.834" y2="86.2"/>
                                        <line class="cls-1" x1="0.05" y1="85.151" x2="24.834" y2="85.151"/>
                                        <line class="cls-1" x1="0.05" y1="84.102" x2="24.834" y2="84.102"/>
                                        <line class="cls-1" x1="0.05" y1="83.184" x2="24.834" y2="83.184"/>
                                        <line class="cls-1" x1="0.05" y1="82.134" x2="24.834" y2="82.134"/>
                                        <line class="cls-1" x1="0.05" y1="81.086" x2="24.834" y2="81.086"/>
                                        <line class="cls-1" x1="0.05" y1="80.168" x2="24.834" y2="80.168"/>
                                    </g>
                                </g>
                            </g>

                            <svg v-if="$i < maxAvailableCircuit - 1" style="pointer-events: none" xmlns="http://www.w3.org/2000/svg" :x="(270 + 18 + 120 + ($i * 187))" width="187.793" viewBox="0 0 187.793 147.88">
                                <line class="cls-1" x1="20.5" y1="74.2" x2="49" y2="74.2" />

                                <rect x="3.181" y="0.05" width="187.612" height="14.816" fill="url(#lines)" />
                                <rect x="0.037" y="133.012" width="186.963" height="14.818" fill="url(#lines)" />

                                <line class="cls-1" x1="3.181" y1="14.866" x2="189.793" y2="14.866"/>
                                <line class="cls-1" x1="3.199" y1="0.05" x2="189.793" y2="0.05"/>

                                <line class="cls-1" x1="187" y1="133.012" x2="0.037" y2="133.012"/>
                                <line class="cls-1" x1="187" y1="147.83" x2="0.024" y2="147.83"/>
                            </svg>

                            <g v-show="$i < maxAvailableCircuit" :transform="'translate(' + (270 + ($i * 187)) + ' 0)'" style="pointer-events: none">
                                <!-- Vertical -->
                                <line class="helper-line" v-if="$i == 0" :x1="18 + 15 - 93" y1="50" :x2="18 + 15 - 93" y2="350"></line>

                                <line class="helper-line" :x1="18 + 15" y1="50" :x2="18 + 15" y2="350"></line>
                                <line class="helper-line" :x1="18 + 93 + 15" y1="50" :x2="18 + 93 + 15" y2="350"></line>

                                <!-- Horizontal -->
                                <line class="helper-line" :data-hover="'circuit' + $i + '-input-before'" :x1="18 + 15" y1="350" :x2="(18 + 15) - (93)" y2="350"></line>

                                <line class="helper-line" :data-hover="'circuit' + $i + '-input-between'" :x1="18 + 15" y1="350" :x2="18 + 93 + 15" y2="350"></line>

                                <!-- Intersections -->
                                <line class="helper-line svg-intersection" v-if="$i == 0" :data-hover="'circuit' + $i + '-input-before'" :x1="18 + 15 - 93" y1="350" :x2="18 + 15 - 93 + 10" y2="360"></line>

                                <line class="helper-line svg-intersection" :data-hover="'circuit' + $i + '-input-between|circuit' + $i + '-input-before'" :x1="18 + 15" y1="350" :x2="18 + 15 + 10" y2="360"></line>
                                <line class="helper-line svg-intersection" :data-hover="'circuit' + $i + '-input-between|circuit' + ($i + 1) + '-input-before' + ($i + 1 == maxAvailableCircuit ? '|end-input-before' : '')" :x1="18 + 93 + 15" y1="350" :x2="18 + 93 + 15 + 10" y2="360"></line>
                            </g>
                        </template>
                    </g>

                    <svg xmlns="http://www.w3.org/2000/svg" style="overflow: visible" :x="endPartX" viewBox="0 0 59.093 147.88" width="59.093">
                        <g>
                            <line class="cls-1" x1="19" y1="74.2" x2="51.7" y2="74.2" />

                            <line class="cls-1" x1="3.184" y1="2.278" x2="5.413" y2="0.05"/>
                            <line class="cls-1" x1="3.184" y1="5.556" x2="8.691" y2="0.05"/>
                            <line class="cls-1" x1="3.184" y1="8.966" x2="12.1" y2="0.05"/>
                            <line class="cls-1" x1="3.184" y1="12.244" x2="15.378" y2="0.05"/>
                            <line class="cls-1" x1="3.97" y1="14.867" x2="18.657" y2="0.05"/>
                            <line class="cls-1" x1="7.248" y1="14.867" x2="21.935" y2="0.05"/>
                            <line class="cls-1" x1="10.526" y1="14.867" x2="25.343" y2="0.05"/>
                            <line class="cls-1" x1="13.804" y1="14.867" x2="28.621" y2="0.05"/>
                            <line class="cls-1" x1="17.214" y1="14.867" x2="31.899" y2="0.05"/>
                            <line class="cls-1" x1="20.492" y1="14.867" x2="35.309" y2="0.05"/>
                            <line class="cls-1" x1="23.77" y1="14.867" x2="38.587" y2="0.05"/>
                            <line class="cls-1" x1="27.18" y1="14.867" x2="41.865" y2="0.05"/>
                            <line class="cls-1" x1="30.458" y1="14.867" x2="45.143" y2="0.05"/>
                            <line class="cls-1" x1="33.736" y1="14.867" x2="48.553" y2="0.05"/>
                            <line class="cls-1" x1="37.014" y1="14.867" x2="51.831" y2="0.05"/>
                            <line class="cls-1" x1="40.424" y1="14.867" x2="55.109" y2="0.05"/>
                            <line class="cls-1" x1="43.702" y1="14.867" x2="58.518" y2="0.05"/>
                            <line class="cls-1" x1="46.98" y1="14.867" x2="59.043" y2="2.803"/>
                            <line class="cls-1" x1="50.389" y1="14.867" x2="59.043" y2="6.081"/>
                            <line class="cls-1" x1="51.7" y1="16.833" x2="59.043" y2="9.491"/>
                            <line class="cls-1" x1="51.7" y1="20.112" x2="59.043" y2="12.769"/>
                            <line class="cls-1" x1="51.7" y1="23.39" x2="59.043" y2="16.047"/>
                            <line class="cls-1" x1="51.7" y1="26.799" x2="59.043" y2="19.325"/>
                            <line class="cls-1" x1="51.7" y1="30.077" x2="59.043" y2="22.735"/>
                            <line class="cls-1" x1="51.7" y1="33.356" x2="59.043" y2="26.013"/>
                            <line class="cls-1" x1="51.7" y1="36.765" x2="59.043" y2="29.291"/>
                            <line class="cls-1" x1="51.7" y1="40.043" x2="59.043" y2="32.7"/>
                            <line class="cls-1" x1="51.7" y1="43.321" x2="59.043" y2="35.978"/>
                            <line class="cls-1" x1="51.7" y1="46.599" x2="59.043" y2="39.257"/>
                            <line class="cls-1" x1="51.7" y1="50.009" x2="59.043" y2="42.535"/>
                            <line class="cls-1" x1="51.7" y1="53.287" x2="59.043" y2="45.944"/>
                            <line class="cls-1" x1="51.7" y1="56.565" x2="59.043" y2="49.222"/>
                            <line class="cls-1" x1="51.7" y1="59.975" x2="59.043" y2="52.501"/>
                            <line class="cls-1" x1="51.7" y1="63.253" x2="59.043" y2="55.909"/>
                            <line class="cls-1" x1="51.7" y1="66.531" x2="59.043" y2="59.187"/>
                            <line class="cls-1" x1="51.7" y1="69.809" x2="59.043" y2="62.465"/>
                            <line class="cls-1" x1="51.7" y1="73.217" x2="59.043" y2="65.743"/>
                            <line class="cls-1" x1="51.7" y1="76.496" x2="59.043" y2="69.154"/>
                            <line class="cls-1" x1="51.7" y1="79.774" x2="59.043" y2="72.432"/>
                            <line class="cls-1" x1="0.037" y1="134.847" x2="1.741" y2="133.012"/>
                            <line class="cls-1" x1="51.7" y1="83.184" x2="59.043" y2="75.71"/>
                            <line class="cls-1" x1="0.037" y1="138.125" x2="5.15" y2="133.012"/>
                            <line class="cls-1" x1="51.7" y1="86.462" x2="59.043" y2="79.118"/>
                            <line class="cls-1" x1="0.037" y1="141.403" x2="8.428" y2="133.012"/>
                            <line class="cls-1" x1="51.7" y1="89.74" x2="59.043" y2="82.397"/>
                            <line class="cls-1" x1="0.037" y1="144.813" x2="11.707" y2="133.012"/>
                            <line class="cls-1" x1="51.7" y1="93.019" x2="59.043" y2="85.675"/>
                            <line class="cls-1" x1="0.298" y1="147.83" x2="15.116" y2="133.012"/>
                            <line class="cls-1" x1="51.7" y1="96.427" x2="59.043" y2="88.953"/>
                            <line class="cls-1" x1="3.576" y1="147.83" x2="18.394" y2="133.012"/>
                            <line class="cls-1" x1="51.7" y1="99.705" x2="59.043" y2="92.362"/>
                            <line class="cls-1" x1="6.986" y1="147.83" x2="21.672" y2="133.012"/>
                            <line class="cls-1" x1="51.7" y1="102.983" x2="59.043" y2="95.641"/>
                            <line class="cls-1" x1="10.264" y1="147.83" x2="25.082" y2="133.012"/>
                            <line class="cls-1" x1="51.7" y1="106.393" x2="59.043" y2="98.919"/>
                            <line class="cls-1" x1="13.542" y1="147.83" x2="28.36" y2="133.012"/>
                            <line class="cls-1" x1="51.7" y1="109.671" x2="59.043" y2="102.197"/>
                            <line class="cls-1" x1="16.82" y1="147.83" x2="31.638" y2="133.012"/>
                            <line class="cls-1" x1="51.7" y1="112.949" x2="59.043" y2="105.606"/>
                            <line class="cls-1" x1="20.23" y1="147.83" x2="34.916" y2="133.012"/>
                            <line class="cls-1" x1="51.7" y1="116.227" x2="59.043" y2="108.884"/>
                            <line class="cls-1" x1="23.508" y1="147.83" x2="38.326" y2="133.012"/>
                            <line class="cls-1" x1="51.7" y1="119.637" x2="59.043" y2="112.163"/>
                            <line class="cls-1" x1="26.786" y1="147.83" x2="41.604" y2="133.012"/>
                            <line class="cls-1" x1="51.7" y1="122.915" x2="59.043" y2="115.572"/>
                            <line class="cls-1" x1="30.195" y1="147.83" x2="44.882" y2="133.012"/>
                            <line class="cls-1" x1="51.7" y1="126.193" x2="59.043" y2="118.85"/>
                            <line class="cls-1" x1="33.473" y1="147.83" x2="48.29" y2="133.012"/>
                            <line class="cls-1" x1="51.7" y1="129.602" x2="59.043" y2="122.128"/>
                            <line class="cls-1" x1="36.752" y1="147.83" x2="51.568" y2="133.012"/>
                            <line class="cls-1" x1="51.7" y1="132.88" x2="59.043" y2="125.407"/>
                            <line class="cls-1" x1="40.03" y1="147.83" x2="59.043" y2="128.816"/>
                            <line class="cls-1" x1="43.439" y1="147.83" x2="59.043" y2="132.094"/>
                            <line class="cls-1" x1="46.717" y1="147.83" x2="59.043" y2="135.372"/>
                            <line class="cls-1" x1="49.995" y1="147.83" x2="59.043" y2="138.781"/>
                            <line class="cls-1" x1="53.405" y1="147.83" x2="59.043" y2="142.059"/>
                            <line class="cls-1" x1="56.683" y1="147.83" x2="59.043" y2="145.337"/>
                            <polyline class="cls-1" points="3.166 14.866 51.7 14.867 51.7 133.012 0.02 133.012"/>
                            <polyline class="cls-1" points="3.166 0.05 59.043 0.05 59.043 147.83 0.02 147.83"/>
                        </g>
                    </svg>

                    <g :transform="'translate(' + (endPartX - 14) + ' 0)'">
                        <foreignObject x="0" y="-60" width="99" height="520" style="pointer-events: none">
                            <div class="flex" style="flex-direction: column; justify-content: space-between; height: 100%; padding: 10px 0 53px; box-sizing: border-box">

                                <div style="display: flex;margin-top: auto; margin-bottom: 20px;">
                                    <div style="display: flex; align-items: center; justify-content: center; flex: 1;">
                                        <input data-hover="end-input-before" :value="element.distance.output.before" @input="change('distance.output.before', $event.target.value)" type="number" style="width: 40px" />
                                    </div>
                                </div>
                            </div>
                        </foreignObject>

                        <g transform="translate(0 0)" style="pointer-events: none">
                            <!-- Vertical -->
<!--                            <line class="helper-line" :x1="0" y1="50" :x2="0" y2="350"></line>-->
                            <line class="helper-line" x1="99" y1="50" x2="99" y2="350"></line>

                            <!-- Horizontal -->
                            <line class="helper-line" data-hover="end-input-before" x1="0" y1="350" x2="99" y2="350"></line>

                            <!-- Intersections -->
                            <line class="helper-line svg-intersection" data-hover="end-input-before" :x1="99" y1="350" :x2="99 + 10" y2="360"></line>
                        </g>
                    </g>

                    <g :transform="'translate(' + (endPartX + 83.5) + ' 125.5)'">
                        <g transform="translate(0 0)" style="pointer-events: none">
                            <!-- Horizontal -->
                            <line class="helper-line" x1="0" y1="45" x2="70" y2="45"></line>
                            <line class="helper-line" x1="0" y1="105.5" x2="70" y2="105.5"></line>

                            <!-- Vertical -->
                            <line class="helper-line" data-hover="end-join-input" x1="70" y1="45" x2="70" y2="105.5"></line>

                            <!-- Intersections -->
                            <line class="helper-line svg-intersection" data-hover="end-join-input" :x1="70" :y1="45" :x2="70 + 10" :y2="45 + 10"></line>
                            <line class="helper-line svg-intersection" data-hover="end-join-input" :x1="70" :y1="105.5" :x2="70 + 10" :y2="105.5 + 10"></line>
                        </g>

                        <foreignObject x="-83" y="0" width="250" height="149">
                            <div style="display: flex; align-items: center; justify-content: flex-end; height: 100%">
                                <input data-hover="end-join-input" :value="element.distance.output.center" @input="change('distance.output.center', $event.target.value)" type="number" style="width: 40px" /><span style="font-size: 80%; margin-left: 5px">{{ __('мм') }}</span>
                            </div>
                        </foreignObject>

                        <g data-hover="end-join" class="svg-exit svg-exit--end" transform="translate(0 29) rotate(90)">
                            <polyline class="cls-1" points="31.291 0.05 0.05 0.05 0.05 31.651 31.291 31.651 31.291 0.05"/>
                            <polyline class="cls-1" points="28.407 0.05 3.066 0.05 3.066 31.651 28.407 31.651 28.407 0.05"/>
                            <line class="cls-1" x1="31.291" y1="1.493" x2="0.05" y2="1.493"/>
                            <line class="cls-1" x1="31.291" y1="2.542" x2="0.05" y2="2.542"/>
                            <line class="cls-1" x1="31.291" y1="3.591" x2="0.05" y2="3.591"/>
                            <line class="cls-1" x1="31.291" y1="4.508" x2="0.05" y2="4.508"/>
                            <line class="cls-1" x1="31.291" y1="5.557" x2="0.05" y2="5.557"/>
                            <line class="cls-1" x1="31.291" y1="6.606" x2="0.05" y2="6.606"/>
                            <line class="cls-1" x1="31.291" y1="7.524" x2="0.05" y2="7.524"/>
                            <line class="cls-1" x1="31.291" y1="8.574" x2="0.05" y2="8.574"/>
                            <line class="cls-1" x1="31.291" y1="9.622" x2="0.05" y2="9.622"/>
                            <line class="cls-1" x1="31.291" y1="10.54" x2="0.05" y2="10.54"/>
                        </g>
                        <g data-hover="end-join" class="svg-exit svg-exit--end" transform="translate(0 89) rotate(90)">
                            <polyline class="cls-1" points="31.291 0.05 0.05 0.05 0.05 31.651 31.291 31.651 31.291 0.05"/>
                            <polyline class="cls-1" points="28.407 0.05 3.066 0.05 3.066 31.651 28.407 31.651 28.407 0.05"/>
                            <line class="cls-1" x1="31.291" y1="1.493" x2="0.05" y2="1.493"/>
                            <line class="cls-1" x1="31.291" y1="2.542" x2="0.05" y2="2.542"/>
                            <line class="cls-1" x1="31.291" y1="3.591" x2="0.05" y2="3.591"/>
                            <line class="cls-1" x1="31.291" y1="4.508" x2="0.05" y2="4.508"/>
                            <line class="cls-1" x1="31.291" y1="5.557" x2="0.05" y2="5.557"/>
                            <line class="cls-1" x1="31.291" y1="6.606" x2="0.05" y2="6.606"/>
                            <line class="cls-1" x1="31.291" y1="7.524" x2="0.05" y2="7.524"/>
                            <line class="cls-1" x1="31.291" y1="8.574" x2="0.05" y2="8.574"/>
                            <line class="cls-1" x1="31.291" y1="9.622" x2="0.05" y2="9.622"/>
                            <line class="cls-1" x1="31.291" y1="10.54" x2="0.05" y2="10.54"/>
                        </g>
                    </g>

                </g>
            </g>
        </svg>
    </div>
</template>

<script>
import Checkbox from '~components/inputs/Checkbox'

export default {
    name: "CollectorBalancingProduct",

    components: {
        Checkbox,
    },

    props: {
        element: {},
    },

    data() {
        const circuitOptions = [
            {value: '1"', title: '1"'},
            {value: '1 ¼"', title: '1 ¼"'},
            {value: '1 ½"', title: '1 ½"'},
        ]

        return {
            circuitOptions,
        }
    },

    computed: {
        totalHeight() {
            return +this.element.distance.input.top + +this.element.distance.input.center + +this.element.distance.input.bottom
        },
        enabledCircuits() {
            return this.element.circuits.filter(circuit => circuit.top.enabled || circuit.bottom.enabled)
        },
        maxAvailableCircuit() {
            let result = 0
            this.element.circuits.forEach((circuit, i) => {
                if (circuit.top.enabled || circuit.bottom.enabled) {
                    result = i + 1
                }
            })

            return result
        },
        endPartX() {
            return (270 + 138 + (187) * Math.max(0, this.maxAvailableCircuit - 1))
        }
    },
    methods: {
        change(field, value) {
            this.$emit('input', {field, value})
        }
    }
}
</script>
